sudo: required
dist: trusty

language: cpp

os:
  - linux
  - osx

compiler:
  - clang
  - gcc

before_script:
  - export OMP_NUM_THREADS=2
  - echo $OMP_NUM_THREADS
  # Out-of-source build
  - cd ..
  - mkdir SimpleElastix-build
  - cd SimpleElastix-build

script:
  - cmake -DWRAP_LUA:BOOL=OFF -DWRAP_PYTHON:BOOL=OFF -DWRAP_JAVA:BOOL=OFF -DWRAP_CSHARP:BOOL=OFF -DWRAP_TCL:BOOL=OFF -DWRAP_R:BOOL=OFF -DWRAP_RUBY:BOOL=OFF -DBUILD_EXAMPLES:BOOL=OFF -DBUILD_TESTING:BOOL=OFF -DCMAKE_BUILD_TYPE=Release ../SimpleElastix/SuperBuild
  - make --jobs=2
